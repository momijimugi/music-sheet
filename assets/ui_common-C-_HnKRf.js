import{r as e,t}from"./firebase-B4G0vEhV.js";import{D as n,E as r,T as i}from"./index.esm-B0-OTnKT.js";var a=`theme`;function o(){f();let a=document.getElementById(`userPill`),o=document.getElementById(`btnLogin`),s=document.getElementById(`btnLogout`);return o?.addEventListener(`click`,async()=>{await r(t,e)}),s?.addEventListener(`click`,async()=>{await n(t)}),new Promise(e=>{i(t,t=>{t?(a.textContent=t.email||t.uid,o.style.display=`none`,s.style.display=`inline-block`):(a.textContent=`未ログイン`,o.style.display=`inline-block`,s.style.display=`none`),e(t)})})}function s(){let e=new URL(location.href);return Object.fromEntries(e.searchParams.entries())}function c(){let e=localStorage.getItem(a);return e===`light`||e===`dark`?e:window.matchMedia&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`}function l(e){let t=e===`dark`?`dark`:`light`;return document.documentElement.dataset.theme=t,document.documentElement.style.colorScheme=t,t}function u(e){let t=e===`dark`?`dark`:`light`;return localStorage.setItem(a,t),l(t),t}function d(){return u(c()===`dark`?`light`:`dark`)}function f(e=`btnThemeToggle`){let t=document.getElementById(e),n=()=>{let e=document.documentElement.dataset.theme||c();t&&(t.textContent=`テーマ: ${e===`dark`?`ダーク`:`ライト`}`)};l(c()),n(),t&&t.addEventListener(`click`,()=>{let e=d();n(),window.dispatchEvent(new CustomEvent(`themechange`,{detail:e}))})}export{o as i,c as n,f as r,s as t};