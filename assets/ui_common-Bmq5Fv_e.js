import{a as e,i as t,o as n,t as r}from"./firebase-B6LBwd9E.js";import{D as i,E as a,T as o}from"./index.esm-B0-OTnKT.js";var s=`theme`;function c(){m();let s=document.getElementById(`userPill`),c=document.getElementById(`btnLogin`),l=document.getElementById(`btnLogout`);return c?.addEventListener(`click`,async()=>{await a(r,e)}),l?.addEventListener(`click`,async()=>{await i(r)}),new Promise(e=>{o(r,async a=>{if(await n(a),a&&await t(a.uid)){h(),await i(r),e(null);return}a?(s.textContent=a.email||a.uid,c.style.display=`none`,l.style.display=`inline-block`):(s.textContent=`未ログイン`,c.style.display=`inline-block`,l.style.display=`none`),e(a)})})}function l(){let e=new URL(location.href);return Object.fromEntries(e.searchParams.entries())}function u(){let e=localStorage.getItem(s);return e===`light`||e===`dark`?e:window.matchMedia&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`}function d(e){let t=e===`dark`?`dark`:`light`;return document.documentElement.dataset.theme=t,document.documentElement.style.colorScheme=t,t}function f(e){let t=e===`dark`?`dark`:`light`;return localStorage.setItem(s,t),d(t),t}function p(){return f(u()===`dark`?`light`:`dark`)}function m(e=`btnThemeToggle`){let t=document.getElementById(e),n=()=>{let e=document.documentElement.dataset.theme||u();t&&(t.textContent=`テーマ: ${e===`dark`?`ダーク`:`ライト`}`)};d(u()),n(),t&&t.addEventListener(`click`,()=>{let e=p();n(),window.dispatchEvent(new CustomEvent(`themechange`,{detail:e}))})}function h(){let e=`このアカウントは現在ご利用いただけません（利用停止中）。`;alert(e);let t=document.getElementById(`msg`);t&&(t.textContent=e),document.body.style.pointerEvents=`none`,document.body.style.opacity=`0.6`}export{c as i,u as n,m as r,l as t};